# minesweeper

Я прошла курс ["Игра Сапёр на Java"](https://stepik.org/course/52329) на платформе Stepik.org.
<br>Результатом стала классическая игра "Сапёр".

Структура игры:
- основной класс наследуется от `JFrame`, отсюда получаем рамку. Кроме `JFrame`, из библиотеки `java.awt` используются
  классы `JPanel` для игровой панели и `JLabel` для отображения состояния игры;
- в методе `initPanel()` создаются анонимные классы для рисования всей программы и для обработки нажатия клавиш
  мыши;
- нужные для игры картинки помещены в папку `resources`, получение реализовано при помощи `enum Box` и метода
  `getImage()` в классе `JavaSweeper`;
- работа с координатами реализована через класс `Coordinates`, содержащий в себе координаты игровой ячейки;
- в классе `Ranges` хранятся статические поля и методы, относящиеся к игре (размер поля, список всех возможных
  координат). Также здесь находится генератор случайной расстановки бомб на игровом поле и метод, возвращающий
  список координат всех ячеек вокруг заданной ячейки;
- класс `Matrix` представляет собой матрицу такого же размера, как игровое поле, содержащую все загруженные в неё
  значения (поля типа `Box`). На основе класса `Matrix` работают классы `FlagMap` и `BombMap`;
- класс `Bomb` отвечает за нижний слой игры. Содержит методы, расставляющие бомбы в случайных местах и цифры
  вокруг них;
- класс `Flag` формирует верхний слой игры с закрытыми ячейками. Содержит методы, позволяющие открыть ячейку
  левой кнопкой мыши или поставить флаг правой кнопкой, а также другие вспомогательные методы для игры;
- состояние игры отслеживается при помощи `enum GameState`, где перечислены все возможные состояния (PLAY, WON,
  BOMBED);
- класс `Game` - это фасадный класс, отвечает за переключения статусов, а также за рестарт игры при победе или
  проигрыше. В методе `openBox()` этого класса заложена вся ключевая логика игры: описаны действия, происходящие
  в результате каждого открытия ячейки.

> **Note**  
> Чтобы создать из проекта исполняемый jar-архив, нужно в меню `File`, во вкладке `Project Structure`, во вкладке
`Artifacts` нажать `+` -> `Jar` -> `From modules with dependencies...`, в выпавшем окне указать main класс `JavaSweeper`
-> `OK`. Затем в меню `Build` нажать `Build Artifacts...` -> `Build`.

Игровой процесс:

![img_1_victory.gif](img_1_victory.gif) ![img_2_loss.gif](img_2_loss.gif)

**Update:** во время написания проекта среда разработки `IntelliJ IDEA` настойчиво рекомендовала мне преобразовать
поля `cols`, `rows` и `bombs` в локальные переменные, так как они задаются и используются только один раз. И я подумала:
в самом деле, почему они используются только один раз? И решила провести масштабирование игры, добавив выбор уровня, как
в классическом сапёре. Для этого я использовала класс `JMenuBar`, добавляющий в приложение контекстное меню.
Также я добавила в меню поле "About", в котором указывается, кто является автором приложения :smirk:.

![img_3_levels.gif](img_3_levels.gif)

> Определенно, тщеславие – мой самый любимый из грехов. Он так фундаментален,
самолюбие – это естественный наркотик.

:movie_camera: "Адвокат дьявола"